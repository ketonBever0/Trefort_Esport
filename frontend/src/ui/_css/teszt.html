<!DOCTYPE html>
<html>
  <head>
    <title>Akasztófa játék</title>
    <style>
      #word-container {
        font-size: 2rem;
        margin-bottom: 2rem;
      }
      #guesses {
        font-size: 1.5rem;
        margin-bottom: 1rem;
      }
      #message {
        font-size: 1.2rem;
        color: red;
        margin-bottom: 1rem;
      }
    </style>
  </head>
  <body>
    <h1>Akasztófa játék</h1>
    <div id="word-container"></div>
    <div id="guesses"></div>
    <div id="message"></div>
    <script>
      const words = [
        "alma",
        "körte",
        "szilva",
        "barack",
        "banán",
        "eper",
        "citrom",
        "narancs",
      ];
      let word = words[Math.floor(Math.random() * words.length)];
      let remainingGuesses = 7;
      let guessedLetters = [];
      let wordArray = new Array(word.length).fill("_");

      function displayWord() {
        let wordString = "";
        for (let i = 0; i < wordArray.length; i++) {
          if (guessedLetters.includes(word[i])) {
            wordString += `${word[i]} `;
          } else {
            wordString += "_ ";
          }
        }
        document.getElementById("word-container").innerHTML = wordString;
      }

      function displayGuesses() {
        const guessesString = `Még ${remainingGuesses} hibád maradt.`;
        document.getElementById("guesses").innerHTML = guessesString;
      }

      function displayMessage(message) {
        document.getElementById("message").innerHTML = message;
      }

      function checkLetter(letter) {
        if (guessedLetters.includes(letter)) {
          displayMessage("Ezt a betűt már kitaláltad. Próbálkozz mással!");
          return;
        }
        guessedLetters.push(letter);
        if (word.includes(letter)) {
          for (let i = 0; i < word.length; i++) {
            if (word[i] === letter) {
              wordArray[i] = letter;
            }
          }
          displayWord();
          if (!wordArray.includes("_")) {
            displayMessage("Gratulálok, nyertél!");
            return;
          }
        } else {
          remainingGuesses--;
          displayGuesses();
          if (remainingGuesses === 0) {
            displayMessage(`Vesztettél! A helyes szó: ${word}.`);
            return;
          }
        }
      }

      document.addEventListener("keyup", (event) => {
        const letter = event.key.toLowerCase();
        if (letter.match(/[a-z]/) && letter.length === 1) {
          checkLetter(letter);
        }
      });

      displayWord();
      displayGuesses();
    </script>
  </body>
</html>
